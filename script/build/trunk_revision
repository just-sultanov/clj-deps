#!/usr/bin/env bash

# Returns the number of commits made since the v0.1.0-alpha tag

set -e

REVISION=`git --no-replace-objects describe --match v0.1.0-alpha`

# Extract the version number from the string. Do this in two steps so
# it is a little easier to understand.
REVISION=${REVISION:13} # drop the first 13 characters
REVISION=${REVISION:0:${#REVISION}-9} # drop the last 9 characters

echo $REVISION
